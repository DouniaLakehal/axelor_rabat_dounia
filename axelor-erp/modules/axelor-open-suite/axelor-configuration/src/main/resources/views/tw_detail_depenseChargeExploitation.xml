<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.3.xsd">


	<form title="Budget detail" name="tw_Sub_detail_chargExploi" onNew="load_montant_detail_depencesCharges"
		  model="com.axelor.apps.configuration.db.RubriquesBudgetaire" width="large">
		<menubar>
			<menu title="Imprimer">
				<item title="Budget Fonc-d" action="imprimerBudgetFonc_d"/>
			</menu>
		</menubar>

		<panel colSpan="12" >
			<panel-dashlet  canSearch="false" readonly="true" name="$chargConsom_fonc_d" title="ACHATS CONSOMMES DE MATIERES ET FOURNITURES" action="charge_consom_fourniture_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true" name="$mt_achat_consome_mat" title="TOTAL DES ACHATS CONSOMMES DE MATIERES ET FOURNITURES"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$chargExterne_fonc_d" title="AUTRES CHARGES EXTERNES" action="autre_charge_externe_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true" name="$mt_autres_charges_externes" title="TOTAL AUTRES CHARGES EXTERNES"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$impotAndTaxeField_fonc_d" title="IMPOTS ET TAXES" action="impotAndTaxe_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true" name="$mt_impots_et_taxes" title="TOTAL DES IMPOTS ET TAXES"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$chargePersonnelField_fonc_d" title="CHARGES DE PERSONNEL" action="chargePersonnel_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$mt_charges_personnel" title="TOTAL DES CHARGES DE PERSONNEL"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$autreChargeExploitationField_fonc_d" title="AUTRES CHARGES D'EXPLOITATION" action="autreChargeExploitation_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$mt_autres_charges_exploitation" title="TOTAL DES AUTRES CHARGES D'EXPLOITATION"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$chargeInteretField_fonc_d" title="CHARGES D'INTERETS" action="chargeInteret_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$mt_charges_interets" title="TOTAL DES CHARGES D'INTERETS"/>
			</panel>

			<panel-dashlet  canSearch="false" readonly="true" name="$subAccordeField_fonc_d" title="SUBVENTIONS ACCORDEES" action="subAccorde_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$mt_subvention_accordees" title="TOTAL DES SUBVENTIONS ACCORDEES"/>
			</panel>

			<!--<panel-dashlet  canSearch="false" readonly="true" name="$chargeCenterField_fonc_d" title="CHARGES DU CENTRE MULTISERVICES D'AIN CHKEF" action="chargeCenter_fonc_d" colSpan="12"/>
			<panel colSpan="12">
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$recette_som8" title="TOTAL DES CHARGES DU CENTRE MULTISERVICES D'AIN CHKEF"/>
			</panel>-->

			<panel colSpan="12" >
				<field colSpan="3" colOffset="9" type="decimal" readonly="true"  name="$total_depenceCharges_detail" title="TOTAL DES CHARGES D'EXPLOITATION"/>
			</panel>

		</panel>

	</form>



	<action-view name="charge_consom_fourniture_fonc_d" title="Produit Non Courant" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and (self.typeRubriqueDetaille.id=:achat_consome_mat or self.code_budget='61') </domain>
	</action-view>

	<action-view name="autre_charge_externe_fonc_d" title="Autre charge Externe" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and self.typeRubriqueDetaille.id=:autres_charges_externes  </domain>
	</action-view>

	<action-view name="impotAndTaxe_fonc_d" title="IMPOT AND TAXE" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and self.typeRubriqueDetaille.id=:impots_et_taxes   </domain>
	</action-view>

	<action-view name="chargePersonnel_fonc_d" title="CHARGE PERSONNEL" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and self.typeRubriqueDetaille.id=:charges_personnel   </domain>
	</action-view>

	<action-view name="autreChargeExploitation_fonc_d" title="AUTRE CHARGE EXPLOITATION" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and self.typeRubriqueDetaille.id=:autres_charges_exploitation  </domain>
	</action-view>

	<action-view name="chargeInteret_fonc_d" title="CHARGE INTERET" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version  and self.typeRubriqueDetaille.id=:charges_interets </domain>
	</action-view>

	<action-view name="subAccorde_fonc_d" title="SUBVENTIONS ACCORDEES" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version  and self.typeRubriqueDetaille.id=:subvention_accordees   </domain>
	</action-view>

	<!--<action-view name="chargeCenter_fonc_d" title="CHARGE INTERET" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<view type="grid" name="tw_detail_ProduitExploitation_grid_fonc_d"/>
		<domain>self.anneCurrent=:fieldanne and self.id_version =:id_version and self.typeRubriqueDetaille.id=:subvention_accordees </domain>
	</action-view>-->



	<grid title="Budget Detail" orderBy="code_budget" name="tw_detail_ProduitExploitation_grid_fonc_d" model="com.axelor.apps.configuration.db.RubriquesBudgetaire">
		<field name="code_budget" title="Code"/>
		<field name="titre_budget" title="Rubriques"/>
		<field name="montant_budget" title="Montant"/>
	</grid>

	<action-method name="load_montant_detail_depencesCharges">
		<call class="com.axelor.apps.configuration.web.AppConfigurationController" method="calcule_montant_sub_detail_depencesCharges"/>
	</action-method>

</object-views>
